<!DOCTYPE html>
<html>
<head>
<script>

var encodedText;

// La fonction suivante récupère les requêtes POST avec un argument de type texte
// Encode le texte en HEX et renvoie cette valeur en tant que réponse de la requête
function handleFormSubmit(event) {
    event.preventDefault();
    var text = event.target.elements.text.value;
    encodedText = text.split('').map(function (char) {
        return char.charCodeAt(0).toString(16);
    }).join('');
    console.log("Texte encodé en HEX : " + encodedText);
    return encodedText;
}

// Appeler la fonction lorsque la page est chargée
window.onload = function() {
    var form = document.getElementById("myForm");
    form.addEventListener("submit", handleFormSubmit);
}

</script>
</head>
<body>
<h1>Page de test</h1>
<form id="myForm" method="post">
  <label for="text">Entrez votre texte :</label>
  <input type="text" id="text" name="text">
  <input type="submit" value="Envoyer une requête POST">
</form>
</body>
</html>
